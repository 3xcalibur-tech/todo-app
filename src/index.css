@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: "SF Pro Text", "Helvetica Neue", "Helvetica", "Arial",
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-gray-50;
    overflow-x: hidden; /* Prevent horizontal scrolling */
  }

  :focus {
    @apply outline-none;
  }
}

/* Global theme transition for maximum smoothness */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, fill, stroke,
    opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Disable color transitions for text elements to prevent white flash */
p,
span,
h1,
h2,
h3,
h4,
h5,
h6,
div {
  transition-property: background-color, border-color, fill, stroke, opacity,
    box-shadow, transform, filter, backdrop-filter !important;
}

/* Ensure immediate theme transitions on root element */
html {
  transition: background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Optimize theme transitions for better performance */
.dark,
.dark * {
  transition-property: background-color, border-color, color, fill, stroke,
    opacity, box-shadow !important;
  transition-duration: 200ms !important;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Override dark mode color transitions for text elements */
.dark p,
.dark span,
.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6,
.dark div {
  transition-property: background-color, border-color, fill, stroke, opacity,
    box-shadow, transform, filter, backdrop-filter !important;
}

/* Smooth scrolling */
@media (prefers-reduced-motion: no-preference) {
  * {
    scroll-behavior: smooth;
  }
}

/* Custom scrollbar for a more polished look */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 0, 0, 0.2);
}

/* Prevent scrolling in category sidebar */
.category-sidebar {
  overflow: hidden;
}

/* Ensure proper text wrapping and prevent overflow */
.category-item {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Ensure dropdown menus are properly displayed */
.category-dropdown {
  position: fixed !important;
  z-index: 9999 !important;
}

/* Prevent dropdown clipping */
.category-container {
  overflow: visible !important;
}

/* Ultra-smooth animations with hardware acceleration */
.todo-item {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

.todo-actions {
  will-change: height, opacity, transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimize button animations */
.action-button {
  will-change: transform, box-shadow;
  transform: translateZ(0);
  backface-visibility: hidden;
}
